{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/login.vue","mtime":1561987348207},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport headtitle from '@/views/title.vue';\nimport { constants } from 'fs';\nexport default {\n  name: \"login\",\n  props: {},\n  components: {\n    headtitle: headtitle\n  },\n  data: function data() {\n    return {\n      title: '登录',\n      back: true,\n      tel: '',\n      password: '',\n      eye: {\n        open: true,\n        reverse: false\n      }\n    };\n  },\n  created: function created() {//   this.backComponentName = this.$route.query;\n  },\n  methods: {\n    userLogin: function userLogin() {\n      var _this = this;\n\n      axios.get('https://result.eolinker.com/L6yNRgD1148c81b2e7e7c37263f70b9d7b7e296dc4db322?uri=login', {\n        params: {\n          username: this.tel,\n          password: this.password\n        }\n      }).then(function (response) {\n        var res = eval(\"(\" + response.data + \")\").info;\n        var len = res.length;\n        var userNameArr = [];\n        var passWordArr = [];\n        var ses = window.sessionStorage;\n\n        for (var i = 0; i < len; i++) {\n          userNameArr.push(res[i].username);\n          passWordArr.push(res[i].password);\n        }\n\n        if (userNameArr.indexOf(_this.tel) === -1) {\n          alert('账号不存在！');\n        } else {\n          var index = userNameArr.indexOf(_this.tel);\n\n          if (passWordArr[index] === _this.password) {\n            //把token放在sessionStorage中\n            ses.setItem('token', JSON.stringify(res[index].token));\n            ses.setItem('userinfo', JSON.stringify(res[index].userinfo));\n\n            _this.$store.commit('set_token', JSON.stringify(res[index].token));\n\n            _this.$store.commit('set_userinfo', JSON.stringify(res[index].userinfo));\n\n            console.log('登录成功！跳到首页');\n\n            _this.$router.go(-1);\n          } else {\n            alert('密码错误');\n          }\n        }\n      }).catch(function (err) {\n        console.log('链接数据库失败！');\n      });\n    }\n  }\n};",null]}