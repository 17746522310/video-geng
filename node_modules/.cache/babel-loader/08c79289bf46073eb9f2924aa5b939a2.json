{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js??ref--29-1!/Users/wangluna/wln/vueSpace/vue-ergeng/src/main.js","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/main.js","mtime":1561452850413},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/core-js/modules/es6.promise.js\";\nimport \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/core-js/modules/es7.promise.finally.js\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport 'amfe-flexible';\nimport axios from 'axios'; // import {confirmDialog} from './utils/index.js'\n\nimport Style from \"cube-ui/src/modules/style\";\nimport Slide from \"cube-ui/src/modules/slide\";\nimport Button from \"cube-ui/src/modules/button\";\nimport Input from \"cube-ui/src/modules/input\";\nVue.use(Slide);\nVue.use(Button);\nVue.use(Input);\nVue.config.productionTip = false;\nVue.prototype.$axios = axios; // Vue.prototype.confirmDialog = confirmDialog;\n\nnew Vue({\n  router: router,\n  store: store,\n  axios: axios,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\"#app\");\nrouter.beforeEach(function (to, from, next) {\n  //获取用户登录成功后储存的登录标志\n  var getFlag = window.sessionStorage.getItem(\"token\");\n\n  if (getFlag) {\n    if (to.path === '/test') {\n      //登录状态下访问login.vue页面 会调到index.vue\n      console.log('您以登录');\n      next({\n        path: '/'\n      });\n    } else {\n      next();\n    }\n  } else {\n    //如果没有token，访问任何页面，都会进入登录页\n    if (to.path === '/test') {\n      //如果是登录页面的话，直接next()-->解决注销后的循环执行bug\n      next();\n    } else {\n      //否则 跳转到登录页面\n      console.log('请先登录！');\n      next({\n        path: '/test'\n      });\n    }\n  } // console.log(getFlag);\n  //   //如果登录标志存在且为isLogin，即用户已登录\n  //   if(getFlag === \"isLogin\"){\n  //     //设置vuex登录状态为已登录\n  //     store.state.isLogin = true\n  //     next()\n  //     //如果已登录，还想想进入登录注册界面，则定向回首页\n  //     if (!to.meta.isLogin) {\n  //        //iViewUi友好提示\n  //       // iView.Message.error('请先退出登录')\n  //       console.log('请先退出登录')\n  //       next({\n  //         path: '/'\n  //       })\n  //     }\n  //   //如果登录标志不存在，即未登录\n  //   }else{\n  //     //用户想进入需要登录的页面，则定向回登录界面\n  //     if(to.meta.isLogin){\n  //       next({\n  //         path: '/login',\n  //       })\n  //       console.log('请先登录')\n  //       //iViewUi友好提示\n  //       // iView.Message.info('请先登录')\n  //     //用户进入无需登录的界面，则跳转继续\n  //     }else{\n  //       next()\n  //     }\n  //   }\n\n});",{"version":3,"sources":["/Users/wangluna/wln/vueSpace/vue-ergeng/src/main.js"],"names":["Vue","App","router","store","axios","use","Slide","Button","Input","config","productionTip","prototype","$axios","render","h","$mount","beforeEach","to","from","next","getFlag","window","sessionStorage","getItem","path","console","log"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;;;;AAWAJ,GAAG,CAACK,GAAJ,CAAQC,KAAR;AACAN,GAAG,CAACK,GAAJ,CAAQE,MAAR;AACAP,GAAG,CAACK,GAAJ,CAAQG,KAAR;AACAR,GAAG,CAACS,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAGAV,GAAG,CAACW,SAAJ,CAAcC,MAAd,GAAuBR,KAAvB,C,CACA;;AACA,IAAIJ,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENC,EAAAA,KAAK,EAALA,KAFM;AAGNC,EAAAA,KAAK,EAALA,KAHM;AAINS,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACb,GAAD,CAAL;AAAA;AAJH,CAAR,EAKGc,MALH,CAKU,MALV;AAOAb,MAAM,CAACc,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC;AACA,MAAIC,OAAO,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAd;;AACA,MAAGH,OAAH,EAAW;AACT,QAAGH,EAAE,CAACO,IAAH,KAAY,OAAf,EAAuB;AACrB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAP,MAAAA,IAAI,CAAC;AAACK,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAJ;AACD,KAJD,MAIK;AACHL,MAAAA,IAAI;AACL;AACF,GARD,MAQK;AACH;AACA,QAAGF,EAAE,CAACO,IAAH,KAAW,OAAd,EAAsB;AAAC;AACrBL,MAAAA,IAAI;AACL,KAFD,MAEK;AAAC;AACJM,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAP,MAAAA,IAAI,CAAC;AAACK,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AAED;AACF,GArBmC,CAsBpC;AACF;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEC,CAzDD","sourcesContent":["import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport 'amfe-flexible';\nimport axios from 'axios'\n// import {confirmDialog} from './utils/index.js'\n\nimport {\n  Style,\n  Slide,\n  Button,\n  Input,\n  // createAPI,\n  // Dialog\n\n} from 'cube-ui'\nVue.use(Slide)\nVue.use(Button)\nVue.use(Input)\nVue.config.productionTip = false;\n\n\nVue.prototype.$axios = axios;\n// Vue.prototype.confirmDialog = confirmDialog;\nnew Vue({\n  router,\n  store,\n  axios,\n  render: h => h(App)\n}).$mount(\"#app\");\n\nrouter.beforeEach((to, from, next) => {\n\n  //获取用户登录成功后储存的登录标志\n  let getFlag = window.sessionStorage.getItem(\"token\");\n  if(getFlag){\n    if(to.path === '/test'){\n      //登录状态下访问login.vue页面 会调到index.vue\n      console.log('您以登录')\n      next({path:'/'})\n    }else{\n      next()\n    }\n  }else{\n    //如果没有token，访问任何页面，都会进入登录页\n    if(to.path ==='/test'){//如果是登录页面的话，直接next()-->解决注销后的循环执行bug\n      next();\n    }else{//否则 跳转到登录页面\n      console.log('请先登录！');\n      next({path: '/test'})\n\n    }\n  }\n  // console.log(getFlag);\n//   //如果登录标志存在且为isLogin，即用户已登录\n//   if(getFlag === \"isLogin\"){\n\n//     //设置vuex登录状态为已登录\n//     store.state.isLogin = true\n//     next()\n\n//     //如果已登录，还想想进入登录注册界面，则定向回首页\n//     if (!to.meta.isLogin) {\n//        //iViewUi友好提示\n//       // iView.Message.error('请先退出登录')\n//       console.log('请先退出登录')\n//       next({\n//         path: '/'\n//       })\n//     }\n  \n//   //如果登录标志不存在，即未登录\n//   }else{\n//     //用户想进入需要登录的页面，则定向回登录界面\n//     if(to.meta.isLogin){\n//       next({\n//         path: '/login',\n//       })\n//       console.log('请先登录')\n//       //iViewUi友好提示\n//       // iView.Message.info('请先登录')\n//     //用户进入无需登录的界面，则跳转继续\n//     }else{\n//       next()\n//     }\n\n//   }\n\n});\n"]}]}