{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue","mtime":1561804827338},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport _typeof from \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.values\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport headtitle from '@/views/title.vue';\nimport { constants } from 'fs';\nimport chinaAreaData from 'china-area-data';\nvar provinces = Object.values(chinaAreaData[86]); // 获取某一省下的市\n\nvar getCities = function getCities(province) {\n  var provinceCode;\n\n  for (var i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i;\n      break;\n    }\n  }\n\n  return _typeof(chinaAreaData[provinceCode]) === 'object' ? Object.values(chinaAreaData[provinceCode]) : [];\n}; // 获取某一市下的区/县\n\n\nfunction getAreas(province, city) {\n  var provinceCode, cityCode;\n\n  for (var i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i;\n      break;\n    }\n  }\n\n  for (var _i in chinaAreaData[provinceCode]) {\n    if (city === chinaAreaData[provinceCode][_i]) {\n      cityCode = _i;\n      break;\n    }\n  }\n\n  if (chinaAreaData[cityCode]) {\n    return _typeof(chinaAreaData[cityCode]) === 'object' ? Object.values(chinaAreaData[cityCode]) : [];\n  } else {\n    // 只有两级的情况\n    return [];\n  }\n}\n\nexport default {\n  name: \"outlogin\",\n  props: {},\n  components: {\n    headtitle: headtitle\n  },\n  data: function data() {\n    return {\n      title: '个人信息',\n      back: true,\n      userinfo: '',\n      addressPickerShow: false,\n      address: [],\n      addressColumns: [{\n        values: provinces\n      }, {\n        values: getCities('北京')\n      }, {\n        values: getAreas('北京', '城区')\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.getUserInfo();\n    this.$nextTick(function () {\n      _this.$refs.addressPicker.setValues(['北京市', '市辖区', '昌平区']);\n    });\n  },\n  methods: {\n    getUserInfo: function getUserInfo() {\n      this.userinfo = JSON.parse(this.$store.state.userinfo) || '';\n    },\n    onAddressChange: function onAddressChange(picker, addressValues, slotIndex) {\n      if (slotIndex === 0) {\n        var cities = getCities(addressValues[0]);\n        picker.setColumnValues(1, cities);\n        picker.setColumnValues(2, getAreas(addressValues[0], cities[0]));\n      } else if (slotIndex === 1) {\n        picker.setColumnValues(2, getAreas(addressValues[0], addressValues[1]));\n      }\n    },\n    confirmAddress: function confirmAddress(picker) {\n      this.address = picker.getValues();\n    },\n    outlogin: function outlogin() {\n      // sessionStorage\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('userinfo');\n      this.$store.commit('set_token', null);\n      this.$store.commit('set_userinfo', null);\n      this.$store.commit('set_navname', 'index');\n      console.log('成功退出登录...'); //调到首页\n\n      this.$router.push('/');\n    }\n  },\n  filters: {\n    pickerValueFilter: function pickerValueFilter(val) {\n      if (Array.isArray(val)) {\n        return val.toString();\n      } else {\n        return '请选择';\n      }\n    }\n  }\n};",{"version":3,"sources":["outlogin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"login-page\">\n    <headtitle :title=\"title\" :back=\"back\"></headtitle>\n    <div class=\"login-box\">\n       <div class=\"outlogin-item\">\n           <span>江湖样貌</span>\n           <img class=\"useravater\" :src=\"userinfo.userImageUrl\" alt=\"\">\n       </div>\n       <div class=\"outlogin-item\">\n           <span>昵称</span>\n           <input class=\"outlogin-input\" type=\"text\" v-model=\"userinfo.userName\" placeholder=\"请填写昵称\" >\n       </div>\n       <wv-cell class=\"addressinput\" title=\"地址\" is-link :value=\"address | pickerValueFilter\" @click.native=\"addressPickerShow = true\" />\n       <wv-picker\n        :visible.sync=\"addressPickerShow\"\n        v-model=\"address\"\n        ref=\"addressPicker\"\n        :columns=\"addressColumns\"\n        :visible-item-count=\"5\"\n        @change=\"onAddressChange\"\n        @confirm=\"confirmAddress\"\n        />\n    </div>\n    <!-- <cube-button :primary=\"true\" @click=\"userLogin()\">登录</cube-button><br> -->\n    <cube-button :primary=\"true\" @click=\"outlogin()\">退出登录</cube-button>\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport headtitle from '@/views/title.vue'\nimport { constants } from 'fs';\nimport chinaAreaData from 'china-area-data'\nconst provinces = Object.values(chinaAreaData[86])\n// 获取某一省下的市\nconst getCities = (province) => {\n  let provinceCode\n  for (let i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i\n      break\n    }\n  }\n  return typeof chinaAreaData[provinceCode] === 'object' ? Object.values(chinaAreaData[provinceCode]) : []\n}\n// 获取某一市下的区/县\nfunction getAreas (province, city) {\n  let provinceCode, cityCode\n  for (let i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i\n      break\n    }\n  }\n  for (let i in chinaAreaData[provinceCode]) {\n    if (city === chinaAreaData[provinceCode][i]) {\n      cityCode = i\n      break\n    }\n  }\n  if (chinaAreaData[cityCode]) {\n    return typeof chinaAreaData[cityCode] === 'object' ? Object.values(chinaAreaData[cityCode]) : []\n  } else {\n    // 只有两级的情况\n    return []\n  }\n}\nexport default {\n  name: \"outlogin\",\n  props:{\n\n  },\n  components:{\n    headtitle\n  },\n  data: function(){\n      return {\n        title:'个人信息',\n        back:true,\n        userinfo:'',\n        addressPickerShow: false,\n        address: [],\n        addressColumns: [\n            { values: provinces},\n            { values: getCities('北京')},\n            { values: getAreas('北京', '城区')}\n        ]\n    }\n  },\n  mounted(){\n      this.getUserInfo();\n      this.$nextTick(() => {\n        this.$refs.addressPicker.setValues(['北京市', '市辖区', '昌平区'])\n      })\n  },\n  methods:{\n    getUserInfo:function(){\n       this.userinfo = JSON.parse(this.$store.state.userinfo) || '';\n    },\n    onAddressChange (picker, addressValues, slotIndex) {\n      if (slotIndex === 0) {\n        const cities = getCities(addressValues[0])\n        picker.setColumnValues(1, cities)\n        picker.setColumnValues(2, getAreas(addressValues[0], cities[0]))\n      } else if (slotIndex === 1) {\n        picker.setColumnValues(2, getAreas(addressValues[0], addressValues[1]))\n      }\n    },\n    confirmAddress (picker) {\n      this.address = picker.getValues()\n    },\n    outlogin () {\n        // sessionStorage\n          sessionStorage.removeItem('token');\n          sessionStorage.removeItem('userinfo');\n          this.$store.commit('set_token', null);\n          this.$store.commit('set_userinfo', null);\n          this.$store.commit('set_navname', 'index');\n          console.log('成功退出登录...');\n          //调到首页\n          this.$router.push('/');\n    }\n    \n  },\n  filters: {\n    pickerValueFilter (val) {\n        if (Array.isArray(val)) {\n            return val.toString()\n        } else {\n            return '请选择'\n        }\n    }\n  }\n\n};\n</script>\n<style lang=\"less\" scoped>\n    .login-page{\n        padding: 50px 15px 0;\n        .login-box{\n            padding-top:30px;\n            padding-bottom: 40px;\n            .addressinput{ \n                padding: 10px 0;\n                height:40px;\n                line-height: 40px;\n                border-bottom: 1px solid #eee;\n            }\n            .outlogin-item{\n                display: flex;\n                justify-content : space-between;\n                align-items: center;\n                border-bottom: 1px solid #eee;\n                height:40px;\n                line-height: 40px;\n                padding:10px 0px;\n                span{\n                    color:#616161;\n                }\n                .useravater{\n                    width:40px;\n                    height:40px;\n                    border-radius: 50%;\n                }\n                .outlogin-input{\n                    height: 40px;\n                    line-height: 40px;\n                    text-align: right;\n                    border:none;\n                    color:#999;\n                    &:focus{\n                        border: none;\n                    }\n                }\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/views/mine"}]}