{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/mycollect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/mycollect.vue","mtime":1561991588111},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport headtitle from \"../title.vue\";\nimport loadmore from '@/components/loadmore.vue';\nimport scroll from '@/components/scroll.vue';\nimport BScroll from 'better-scroll';\nimport { constants } from 'fs';\nimport * as apiUrl from \"@/common/apiUrl.js\";\nexport default {\n  name: \"mycollect\",\n  components: {\n    headtitle: headtitle,\n    loadmore: loadmore,\n    scroll: scroll\n  },\n  data: function data() {\n    return {\n      title: '收藏列表',\n      back: true,\n      queryResult: [],\n      showMore: true,\n      total: 0,\n      params: {\n        page: 1,\n        size: 6,\n        userId: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.params.userId = JSON.parse(this.$store.state.userinfo).userId;\n    this.scrollToEnd();\n  },\n  methods: {\n    scrollToEnd: function scrollToEnd() {\n      var _this = this;\n\n      if (this.queryResult.length >= this.total && this.total != 0) {\n        this.showMore = false;\n        return;\n      }\n\n      axios.get(apiUrl.api_test_url + 'lnVideo/listUserVideo/' + this.params.page + '/' + this.params.size, {\n        params: {\n          userId: this.params.userId\n        }\n      }).then(function (res) {\n        var data = res.data;\n\n        if (data.success) {\n          _this.total = data.queryResult.total;\n\n          if (_this.total <= _this.params.size * _this.params.page) {\n            _this.showMore = false;\n          }\n\n          _this.params.page++;\n          var list = data.queryResult.list;\n          _this.queryResult = _this.queryResult.concat(list);\n        }\n      });\n    },\n    getList: function getList() {\n      var _this2 = this;\n\n      axios.get('http://iot.smart-ideas.com.cn/ssgy/lnVideo/listUserVideo/' + this.param.page + '/' + this.param.size, {\n        params: {\n          userId: this.params.userId\n        }\n      }).then(function (res) {\n        _this2.isload = false;\n        var data = res.data;\n\n        if (data.success) {\n          _this2.queryResult = data.queryResult.list;\n          console.log(_this2.queryResult);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n};",null]}