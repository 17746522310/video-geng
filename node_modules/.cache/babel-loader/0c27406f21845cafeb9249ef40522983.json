{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue","mtime":1561804827338},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport _typeof from \"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.values\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport headtitle from '@/views/title.vue';\nimport { constants } from 'fs';\nimport chinaAreaData from 'china-area-data';\nvar provinces = Object.values(chinaAreaData[86]); // 获取某一省下的市\n\nvar getCities = function getCities(province) {\n  var provinceCode;\n\n  for (var i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i;\n      break;\n    }\n  }\n\n  return _typeof(chinaAreaData[provinceCode]) === 'object' ? Object.values(chinaAreaData[provinceCode]) : [];\n}; // 获取某一市下的区/县\n\n\nfunction getAreas(province, city) {\n  var provinceCode, cityCode;\n\n  for (var i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i;\n      break;\n    }\n  }\n\n  for (var _i in chinaAreaData[provinceCode]) {\n    if (city === chinaAreaData[provinceCode][_i]) {\n      cityCode = _i;\n      break;\n    }\n  }\n\n  if (chinaAreaData[cityCode]) {\n    return _typeof(chinaAreaData[cityCode]) === 'object' ? Object.values(chinaAreaData[cityCode]) : [];\n  } else {\n    // 只有两级的情况\n    return [];\n  }\n}\n\nexport default {\n  name: \"outlogin\",\n  props: {},\n  components: {\n    headtitle: headtitle\n  },\n  data: function data() {\n    return {\n      title: '个人信息',\n      back: true,\n      userinfo: '',\n      addressPickerShow: false,\n      address: [],\n      addressColumns: [{\n        values: provinces\n      }, {\n        values: getCities('北京')\n      }, {\n        values: getAreas('北京', '城区')\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.getUserInfo();\n    this.$nextTick(function () {\n      _this.$refs.addressPicker.setValues(['北京市', '市辖区', '昌平区']);\n    });\n  },\n  methods: {\n    getUserInfo: function getUserInfo() {\n      this.userinfo = JSON.parse(this.$store.state.userinfo) || '';\n    },\n    onAddressChange: function onAddressChange(picker, addressValues, slotIndex) {\n      if (slotIndex === 0) {\n        var cities = getCities(addressValues[0]);\n        picker.setColumnValues(1, cities);\n        picker.setColumnValues(2, getAreas(addressValues[0], cities[0]));\n      } else if (slotIndex === 1) {\n        picker.setColumnValues(2, getAreas(addressValues[0], addressValues[1]));\n      }\n    },\n    confirmAddress: function confirmAddress(picker) {\n      this.address = picker.getValues();\n    },\n    outlogin: function outlogin() {\n      // sessionStorage\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('userinfo');\n      this.$store.commit('set_token', null);\n      this.$store.commit('set_userinfo', null);\n      this.$store.commit('set_navname', 'index');\n      console.log('成功退出登录...'); //调到首页\n\n      this.$router.push('/');\n    }\n  },\n  filters: {\n    pickerValueFilter: function pickerValueFilter(val) {\n      if (Array.isArray(val)) {\n        return val.toString();\n      } else {\n        return '请选择';\n      }\n    }\n  }\n};",null]}