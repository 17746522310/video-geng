{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/mine/outlogin.vue","mtime":1561804827338},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport headtitle from '@/views/title.vue'\nimport { constants } from 'fs';\nimport chinaAreaData from 'china-area-data'\nconst provinces = Object.values(chinaAreaData[86])\n// 获取某一省下的市\nconst getCities = (province) => {\n  let provinceCode\n  for (let i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i\n      break\n    }\n  }\n  return typeof chinaAreaData[provinceCode] === 'object' ? Object.values(chinaAreaData[provinceCode]) : []\n}\n// 获取某一市下的区/县\nfunction getAreas (province, city) {\n  let provinceCode, cityCode\n  for (let i in chinaAreaData[86]) {\n    if (province === chinaAreaData[86][i]) {\n      provinceCode = i\n      break\n    }\n  }\n  for (let i in chinaAreaData[provinceCode]) {\n    if (city === chinaAreaData[provinceCode][i]) {\n      cityCode = i\n      break\n    }\n  }\n  if (chinaAreaData[cityCode]) {\n    return typeof chinaAreaData[cityCode] === 'object' ? Object.values(chinaAreaData[cityCode]) : []\n  } else {\n    // 只有两级的情况\n    return []\n  }\n}\nexport default {\n  name: \"outlogin\",\n  props:{\n\n  },\n  components:{\n    headtitle\n  },\n  data: function(){\n      return {\n        title:'个人信息',\n        back:true,\n        userinfo:'',\n        addressPickerShow: false,\n        address: [],\n        addressColumns: [\n            { values: provinces},\n            { values: getCities('北京')},\n            { values: getAreas('北京', '城区')}\n        ]\n    }\n  },\n  mounted(){\n      this.getUserInfo();\n      this.$nextTick(() => {\n        this.$refs.addressPicker.setValues(['北京市', '市辖区', '昌平区'])\n      })\n  },\n  methods:{\n    getUserInfo:function(){\n       this.userinfo = JSON.parse(this.$store.state.userinfo) || '';\n    },\n    onAddressChange (picker, addressValues, slotIndex) {\n      if (slotIndex === 0) {\n        const cities = getCities(addressValues[0])\n        picker.setColumnValues(1, cities)\n        picker.setColumnValues(2, getAreas(addressValues[0], cities[0]))\n      } else if (slotIndex === 1) {\n        picker.setColumnValues(2, getAreas(addressValues[0], addressValues[1]))\n      }\n    },\n    confirmAddress (picker) {\n      this.address = picker.getValues()\n    },\n    outlogin () {\n        // sessionStorage\n          sessionStorage.removeItem('token');\n          sessionStorage.removeItem('userinfo');\n          this.$store.commit('set_token', null);\n          this.$store.commit('set_userinfo', null);\n          this.$store.commit('set_navname', 'index');\n          console.log('成功退出登录...');\n          //调到首页\n          this.$router.push('/');\n    }\n    \n  },\n  filters: {\n    pickerValueFilter (val) {\n        if (Array.isArray(val)) {\n            return val.toString()\n        } else {\n            return '请选择'\n        }\n    }\n  }\n\n};\n",null]}