{"remainingRequest":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/index/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/src/views/index/list.vue","mtime":1561977463689},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/vue-ergeng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport BScroll from 'better-scroll'\nimport { constants } from 'fs';\n\nimport headtitle from '../title.vue'\nimport loading from '@/components/loading.vue'\nimport loadmore from '@/components/loadmore.vue'\nimport scroll from '@/components/scroll.vue'\n\nimport * as apiUrl from \"@/common/apiUrl.js\";\n// import http from \"@/common/http.js\";\nexport default {\n  name: \"indexlist\",\n  components:{\n    headtitle,\n    loading,\n    loadmore,\n    scroll\n  },\n  data: function(){\n      return {\n        videos:[],\n        headtitle:'首页视频',\n        more: null,\n        search: true,\n        isload: false,\n        hasMore: true,\n        page:1,\n        size:4,\n        count:20,\n        items:[\n          {\n            url: 'http://www.didichuxing.com/',\n            image:'http://39.96.201.228:4869/44a0b7a59796c1ddbc14b87eb8b0d31c'\n          },{\n            image:'http://39.96.201.228:4869/83924007a32036cf933b30eb33a2ae01'\n          },{\n            image:'http://39.96.201.228:4869/a6b0b59f57ea3fd8a4d4d7fdab6b78b6'\n          },{\n          image:'http://39.96.201.228:4869/18a22e79b05ef34b3b8017fc5f6d06b7'\n          }\n        ]\n      }\n  },\n  created(){\n    this.isload = true;\n    this.scrollToEnd();\n  },\n  methods:{\n    scrollToEnd(){\n        if(this.videos.length >= this.count){\n          this.hasMore = false;\n          return;\n        }\n        axios\n        .get(apiUrl.api_test_url+'lnVideo/list/'+this.page+'/'+this.size)\n        .then((res)=>{\n          let data = res.data;         \n          if(data.success){\n            let list = data.queryResult.list;\n                this.page++;\n                this.videos = this.videos.concat(list);    \n          }\n          this.isload = false;\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n    },\n    changepage(current){\n      console.log(current);\n    },\n    clickHandler(item,index){\n      console.log(item,index)\n    }\n  }\n};\n",null]}