{"remainingRequest":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangluna/wln/vueSpace/video-geng/src/views/graphic/graphic-list.vue?vue&type=style&index=0&id=6bc1e378&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangluna/wln/vueSpace/video-geng/src/views/graphic/graphic-list.vue","mtime":1562425234254},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/less-loader/dist/cjs.js","mtime":1560777210830},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangluna/wln/vueSpace/video-geng/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.graphic-page{\n    .graphic-scroll{ \n        position: fixed; \n        left:0;\n        right:0;\n        top:0;\n        height: 34px;\n        z-index: 100;\n        overflow:hidden;\n        background: lightcoral;\n        .graphic-nav-content{ \n            .graphic-list-nav{\n                width:auto;\n                height: 34px;\n                border-bottom:1px solid #eee;\n                font-size: 16px;\n                overflow: hidden;\n                white-space:nowrap;\n                span{\n                    display: inline-block;\n                    white-space: nowrap;\n                    line-height: 34px;\n                    padding: 0 20px;\n                    white-space: 1px;\n                    &.active{\n                        font-size: 17px;\n                        color:#fff;\n                    }\n                }\n            }\n        }\n    }\n    .graphic-list-wrap{\n        position: fixed;\n        top: 35px;\n        bottom: 45px;\n        left:0;\n        right:0;\n        // background: pink;\n        .graphic-list-block{\n            padding: 0 12px;\n            position: absolute;\n            top:0;\n            left:0;\n            bottom: 0;\n            right:0;\n            &.block{\n                display:block;\n            }\n            &.none{\n                display:none;\n            }\n            .graphic-list-scroll{\n                position: absolute;\n                top:0;\n                bottom: 0;\n                left:12px;\n                right:12px;\n            }\n            .graphic-item{\n                padding: 10px 0 15px;\n                border-bottom:1px solid rgba(221, 221, 221, 0.6);\n                .graphic-item-title{\n                    font-size: 16px;\n                    color:#000;\n                    white-space: 1px;\n                    line-height: 22px;\n                }\n                .thumb-box-list{\n                    overflow: hidden;\n                    display: block;\n                    text-align: center;\n                    margin-top: 8px;\n                    .thumb-box{\n                        display: inline-block;\n                        overflow: hidden;\n                        width: 33.3%;\n                        -webkit-box-sizing: border-box;\n                        box-sizing: border-box;\n                        height: 80px;\n                        &:first-child{\n                            padding-right: 2px;\n                        }\n                        &:last-child{\n                            padding-left: 2px;\n                        }\n                        img{\n                            border: none;\n                            display: block;\n                            width: 100%;\n                            -webkit-transition: opacity 300ms ease;\n                            -moz-transition: opacity ease .3s;\n                                    transition: opacity ease .3s;\n                            pointer-events: none;\n                            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n                            -webkit-user-select: none;\n                            text-decoration: none;\n                            \n                        }\n                    }\n                }\n                .graphic-info-box{\n                    line-height: 14px;\n                    font-size: 12px;\n                    color:#999;\n                    margin-top: 6px;\n                    span{\n                        display: inline-block;\n                        margin-right: 8px;\n                    }\n                }\n            }\n        }\n        \n    }\n    \n}\n",{"version":3,"sources":["graphic-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"graphic-list.vue","sourceRoot":"src/views/graphic","sourcesContent":["<template>\n    <div class=\"graphic-page\">\n        <scrollview class=\"graphic-scroll\">\n            <div class=\"graphic-nav-content\" ref=\"cont\">\n                <div ref=\"nav\" class=\"graphic-list-nav border-bottom\">\n                    <span v-for=\"(item,index) in classify\" :class=\"classifyCurrent === item.itemName ? 'active': ''\" @click=\"getlist(item.itemName)\" :key=\"item.index\">\n                          {{item.itemWord }}\n                    </span>\n                </div>\n            </div>\n        </scrollview>\n        \n        <div class=\"graphic-list-wrap\">\n            <block-list v-for=\"(item,index) in classify\" class=\"graphic-list-block\" :class=\"classifyCurrent === item.itemName ? 'block' : 'none'\" :key=\"item.index\">\n            <!-- <div v-for=\"(item,index) in classify\" class=\"graphic-list-block\" :class=\"classifyCurrent === item.itemName ? 'block' : 'none'\" :key=\"item.index\"> -->\n                <scroll class=\"graphic-list-scroll\" \n                :listenScroll=\"false\"\n                :pullup=\"true\"\n                @scrollToEnd=\"scrollToEnd\" \n                :data=\"travel\"\n                >\n                    <ul>    \n                        <div>{{item.itemWord}}</div>\n                        <li class=\"graphic-item\" v-for=\"(item, index) in dataBlock.dataBlockRes\" :key=\"item.index\">\n                            <h2 class=\"graphic-item-title\">[{{index}}] - {{item.title}}</h2>\n                            <div class=\"thumb-box-list\">\n                                <div class=\"thumb-box\" v-for=\"it in item.imgList\" :key=\"it\">\n                                    <img :src=\"it\" alt=\"\">\n                                </div>\n                            </div>\n                            <div class=\"graphic-info-box\">\n                                <span>旅行说</span>\n                                <span>评论290</span>\n                                <span>25分钟前</span>\n                            </div>\n                        </li>\n                        <loadmore v-show=\"hasMore\"></loadmore>\n                    </ul>\n                </scroll>\n            </block-list>\n            <!-- </div> -->\n        </div>\n        \n        \n    </div>\n</template>\n<script>\nimport scrollview from '@/components/scroll-view.vue'\nimport scroll from '@/components/scroll.vue'\nimport loadmore from '@/components/loadmore.vue'\nimport Axios from 'axios'\nimport blockList from './block-list'\nexport default({\n    name: 'graphicList',\n    components:{\n        scrollview,\n        scroll,\n        loadmore,\n        blockList\n    },\n    data(){\n        return {\n            classify:[{\n                    itemName: 'travel',\n                    itemWord: '旅游',\n                    resultList: [],\n                },{\n                    itemName: 'food',\n                    itemWord: '美食'\n                },{\n                    itemName: 'dining',\n                    itemWord: '餐厅'\n                },{\n                    itemName: 'entertain',\n                    itemWord: '娱乐'\n                },{\n                    itemName: 'gossip',\n                    itemWord: '八卦'\n                },{\n                    itemName: 'side',\n                    itemWord: '身边事'\n                },{\n                    itemName: 'technology',\n                    itemWord: '科技'\n            }],\n            classifyCurrent: 'travel',\n            hasMore: true,\n            travel:[1,2,3,4,5,6,7],\n            params:{\n                page:0,\n                size: 10,\n                pagecount: 3\n            },\n            resData:{\n                travel:{\n                    resultList:[],\n                    total: 0\n                },\n                food:{\n                    resultList:[],\n                    total: 0\n                }\n            },\n            dataBlock:{\n                dataBlockRes: [],\n                resTotal: 0\n            }\n        }\n    },\n    mounted(){\n        var e = this.$refs.nav.childNodes;\n        var eLength = 0;\n        for(var i = 0; i < e.length; i++){\n            eLength += e[i].clientWidth;\n        }\n        this.$refs.cont.style.width = eLength + 'px';\n        this.scrollToEnd();\n    },\n    methods:{\n        scrollToEnd(){\n        //     if( this.queryResult.length >= this.total && this.total !=0){\n        //     this.showMore = false;\n        //     return;\n        // }\n            if( this.dataBlock.dataBlockRes.length >= this.dataBlock.resTotal && this.dataBlock.resTotal !=0){\n                this.hasMore = false;\n                console.log('无更多内容可以加载...')\n                return;\n            }\n            Axios\n            .get('/api/news.json')\n            .then((res)=>{\n                var resList = res.data[this.classifyCurrent].resultList;\n                var resTotal = res.data[this.classifyCurrent].total;\n                var thisResList = this.dataBlock.dataBlockRes;\n                this.dataBlock.dataBlockRes =  this.dataBlock.dataBlockRes.concat(resList);\n                this.dataBlock.resTotal = resTotal;\n                console.log('this.dataBlock.resTotal= '+this.dataBlock.resTotal)\n                if(this.dataBlock.dataBlockRes.length >= this.dataBlock.resTotal){\n                    this.showMore = false;\n                }\n                console.log('触底 总数= '+ this.dataBlock.dataBlockRes.length);\n            })\n        },\n        getlist(itemName){\n            this.classifyCurrent = itemName;\n            var name = itemName;\n            console.log(name)\n            Axios\n            .get('/api/news.json')\n            .then((res)=>{\n                this.resData.food.resultList = res.data[name].resultList;\n                this.dataBlock.dataBlockRes = res.data[name].resultList;\n                this.dataBlock.resTotal = res.data[name].resultList.total;\n                // console.log(res.data[name].resultList);\n                // this.resData.food.resultList = res.data.itemName.resultList;\n                // console.log(res.data.itemName.resultList);\n            })\n\n        }\n    }\n})\n</script>\n<style lang=\"less\" scoped>\n    .graphic-page{\n        .graphic-scroll{ \n            position: fixed; \n            left:0;\n            right:0;\n            top:0;\n            height: 34px;\n            z-index: 100;\n            overflow:hidden;\n            background: lightcoral;\n            .graphic-nav-content{ \n                .graphic-list-nav{\n                    width:auto;\n                    height: 34px;\n                    border-bottom:1px solid #eee;\n                    font-size: 16px;\n                    overflow: hidden;\n                    white-space:nowrap;\n                    span{\n                        display: inline-block;\n                        white-space: nowrap;\n                        line-height: 34px;\n                        padding: 0 20px;\n                        white-space: 1px;\n                        &.active{\n                            font-size: 17px;\n                            color:#fff;\n                        }\n                    }\n                }\n            }\n        }\n        .graphic-list-wrap{\n            position: fixed;\n            top: 35px;\n            bottom: 45px;\n            left:0;\n            right:0;\n            // background: pink;\n            .graphic-list-block{\n                padding: 0 12px;\n                position: absolute;\n                top:0;\n                left:0;\n                bottom: 0;\n                right:0;\n                &.block{\n                    display:block;\n                }\n                &.none{\n                    display:none;\n                }\n                .graphic-list-scroll{\n                    position: absolute;\n                    top:0;\n                    bottom: 0;\n                    left:12px;\n                    right:12px;\n                }\n                .graphic-item{\n                    padding: 10px 0 15px;\n                    border-bottom:1px solid rgba(221, 221, 221, 0.6);\n                    .graphic-item-title{\n                        font-size: 16px;\n                        color:#000;\n                        white-space: 1px;\n                        line-height: 22px;\n                    }\n                    .thumb-box-list{\n                        overflow: hidden;\n                        display: block;\n                        text-align: center;\n                        margin-top: 8px;\n                        .thumb-box{\n                            display: inline-block;\n                            overflow: hidden;\n                            width: 33.3%;\n                            -webkit-box-sizing: border-box;\n                            box-sizing: border-box;\n                            height: 80px;\n                            &:first-child{\n                                padding-right: 2px;\n                            }\n                            &:last-child{\n                                padding-left: 2px;\n                            }\n                            img{\n                                border: none;\n                                display: block;\n                                width: 100%;\n                                -webkit-transition: opacity 300ms ease;\n                                -moz-transition: opacity ease .3s;\n                                        transition: opacity ease .3s;\n                                pointer-events: none;\n                                -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n                                -webkit-user-select: none;\n                                text-decoration: none;\n                                \n                            }\n                        }\n                    }\n                    .graphic-info-box{\n                        line-height: 14px;\n                        font-size: 12px;\n                        color:#999;\n                        margin-top: 6px;\n                        span{\n                            display: inline-block;\n                            margin-right: 8px;\n                        }\n                    }\n                }\n            }\n            \n        }\n        \n    }\n</style>"]}]}