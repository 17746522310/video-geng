{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2dc83369\"],{3346:function(t,i){t.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAe1BMVEUAAABCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkLGvIdIAAAAKHRSTlMA8A/36wsUyaCG5+N/NSwZ89SckB3DjXYjvbB7b1kHz5ZSSjCpdDxnSrrDFAAAATZJREFUOMvdk9lugzAQRXFs4w0SlrCFsCfp/P8XFoFaJ9YgeG3nwaDr42vNHdn7o3UdLoe4kgA7REodkvSIIdy9gB6wTDT3TiTf74QW86oifw/sGZ9XP1I73GUxPGCZEr58fRpsQ6ewUb/7aRQ008lF2qGWGQMAI/nPqYcGAJ0lxdhasAKWyXqY+MdxPjW1FAxu9s454+2qwf53ptzkzqx6CyU25w0uZOI9KD9mOBkSYVt3SJyzZGdJlLOtCxI60otWHBtMFzuKybiHVaAdgW7E+6gcQSQ4GKeOIAXKtfDlKE+CzwpejjLCFQMbWDMrpUlW4AojBiqzjL2nOmU0XwZMnhh4u81ZKkoK7vEgIsGcYSbRpnNeEKrW+/2csnubCNSRaNpf7ANPwESoo6/y8jOGdLb/l/UN4psQG7wwnXUAAAAASUVORK5CYII=\"},\"83fc\":function(t,i,e){},b6a6:function(t,i){t.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAqFBMVEUAAAD/T0j/Xzv/OVr/YDr/Wj//O1j/SU3/ZzT/Q1L/V0H/OVr/SE3/aDT/OVn/QVP/S0v/VkL/OVn/UUf/VkL/PlX/V0H/OVr/OVn/PFf/PFf/Wj7/Plb/TUr/Xjz/Plb/V0L/ZzT/aTP/XT3/OVr/R07/U0X/Xjz/Ukb/TUr/VUP/RVD/Oln/WEH/QFT/T0f/Skz/SE3/Wj7/XT3/PVb/QlL/YDr/ZTZgzR6SAAAAKHRSTlMAEEAQwIDw4FAwMCDQwICAgPDg0NDAwKCQkGBgQPDw4ODg4NDAwKCgNEpgxQAAAQtJREFUOMvtz9mSgjAQheGQsIgOuIy7zr4ogogL8P5vJp1WISYpuLb877r46lAhz7CW57Uawe88/2o0mBc1mfQAmvWOFizLMloLzYxXO0lBHYto3eCRdziM9cagC+sHELTdDq0FNSRkrcx3WOIG20D98b9VdW00JcLWvHZ1UEJrbFfUqy720UgoCII3V/j3p4B2iCAHXCVjKAxhSZK8SA83Xu8QtAcnSwHtIXSSdMDcUBiGDjqpXomwLtFANJfSNNXBv5uB4jgeaaBzRTF2+tBAAUGR2i1FBC2VcH4x9mxmR9hcCbt8yPYZIcxH6ivhCD5NGR5sCtevErqDaNIpz84kGrhEGUNWUkYetDO9W0rGeCBKVwAAAABJRU5ErkJggg==\"},c04f:function(t,i,e){\"use strict\";var s=e(\"83fc\"),a=e.n(s);a.a},d3da:function(t,i,e){\"use strict\";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e(\"div\",{staticClass:\"detail-wrap\"},[e(\"headtitle\",{attrs:{title:t.headtitle,back:t.back}}),e(\"div\",{staticClass:\"detail-video-box\"},[e(\"video\",{attrs:{id:\"detailVideo\",\"webkit-playsinline\":\"\",playsinline:\"true\",preload:\"none\",controls:t.controls,src:t.detailInfo.videoUrl}}),e(\"div\",{staticClass:\"cover\",class:{hide:t.isPlay},style:{backgroundImage:\"url(\"+t.detailInfo.videoImageUrl+\")\"}}),e(\"div\",{staticClass:\"play-btn\",class:{hide:t.isPlay},on:{click:function(i){return t.videoPlay()}}})]),e(\"div\",{ref:\"wrapper\",staticClass:\"wrapper\",style:{backgroundImage:\"url(\"+t.detailInfo.videoInfoBg+\")\"}},[e(\"div\",{staticClass:\"content\"},[e(\"div\",{staticClass:\"detail-video-info\"},[e(\"div\",{staticClass:\"video-info-box\"},[e(\"h1\",[t._v(t._s(t.detailInfo.videoName))]),e(\"p\",[t._v(t._s(t.detailInfo.videoPlayTime))]),e(\"div\",{staticClass:\"vedio-desc\"},[t._v(t._s(t.detailInfo.videoIntroduction))])]),e(\"div\",{staticClass:\"video-review-box\"},[e(\"div\",{staticClass:\"header\"},[t._v(\"热门评论\")]),e(\"div\",{staticClass:\"video-review-list\"},[t.reviewList.length>0?e(\"div\",t._l(t.reviewList,function(i){return e(\"div\",{key:i.id,staticClass:\"review-item\"},[e(\"div\",{staticClass:\"review-avatar\",staticStyle:{backgroundImage:\"url(http://img.kaiyanapp.com/231870dcc13e098d31bf551b07b7558f.jpeg?imageMogr2/quality/60/format/jpg)\"}}),e(\"div\",{staticClass:\"review-info-box\"},[e(\"p\",{staticClass:\"username\"},[t._v(t._s(i.userNickName))]),e(\"p\",{staticClass:\"time\"},[t._v(t._s(i.createDate))]),e(\"p\",{staticClass:\"text\"},[t._v(t._s(i.content))])]),e(\"div\",{staticClass:\"like\"},[e(\"div\",{staticClass:\"like-count\"},[t._v(t._s(i.star))]),e(\"div\",{staticClass:\"like-icon\"})])])}),0):e(\"div\",{staticClass:\"noreview\",on:{click:function(i){return t.onComment()}}},[t._v(\"还没有评论,快去评论吧~\")])])])])])]),e(\"div\",{staticClass:\"detail-footer\"},[e(\"div\",{on:{click:function(i){return t.flagFavorite()}}},[e(\"img\",{staticClass:\"collect-icon\",attrs:{src:t.isCollect?t.imgUrl:t.imgUrlOff,alt:\"\"}}),e(\"span\",[t._v(\"收藏\")])]),e(\"div\",{on:{click:function(i){return t.onComment()}}},[t._v(\"去评论\")])]),e(\"toast\",{ref:\"toast\",attrs:{toastOptions:t.toastOptions}})],1)},a=[],o=e(\"b6a6\"),n=e.n(o),d=e(\"3346\"),r=e.n(d),l=e(\"2427\"),c=e.n(l),C=e(\"1fba\"),v=e(\"a72d\"),A=e(\"107d\"),u=(e(\"3e8f\"),e(\"9564\")),f={name:\"indexdetail\",components:{headtitle:v[\"a\"],toast:A[\"a\"]},data:function(){return{headtitle:\"详情\",back:!0,detailInfo:\"\",reviewList:[],_dom:\"\",controls:!1,isPlay:!1,isCollect:!1,imgUrl:n.a,imgUrlOff:r.a,params:{videoId:\"\",userId:\"\"},toastOptions:{}}},created:function(){this.params.videoId=this.$route.query.id,this.params.userId=this.$store.state.userinfo?JSON.parse(this.$store.state.userinfo).userId:\"noLogin\"},mounted:function(){var t=this;this.getVideoDetail(),this.getReview(),this.$nextTick(function(){t.scroll=new C[\"a\"](t.$refs.wrapper,{bounce:{top:!0,bottom:!0,left:!1,right:!1}})})},methods:{getVideoDetail:function(){var t=this;c.a.get(u[\"a\"]+\"lnVideo/findById/\"+this.params.videoId+\"/\"+this.params.userId).then(function(i){var e=i.data;e.success&&(t.detailInfo=e.video,\"Y\"===e.video.isCollecttion&&(t.isCollect=!0))})},getReview:function(){var t=this;c.a.get(u[\"a\"]+\"lnVideo/findCommentsByVideoId/\"+this.params.videoId).then(function(i){var e=i.data;e.success&&(t.reviewList=e.comments)})},videoPlay:function(){this._dom=document.getElementById(\"detailVideo\"),this.isPlay=!this.isPlay,this.controls=!0,this._dom.play()},flagFavorite:function(){var t=this;\"noLogin\"!==this.params.userId?this.isCollect?c.a.delete(u[\"a\"]+\"lnVideo/deleteUserVideo/\"+this.params.userId+\"/\"+this.params.videoId).then(function(i){var e=i.data;e.success&&(t.isCollect=!1,t.showToast({content:\"以取消收藏\"}))}):c.a.put(u[\"a\"]+\"lnVideo/saveUserVideo\",{userId:this.params.userId,videoId:this.params.videoId}).then(function(i){var e=i.data;e.success&&(t.isCollect=!0,t.showToast({content:\"收藏成功\"}))}):this.showToast({content:\"您还没有登录，去登录~\",callback:function(){t.$router.push({name:\"login\"})}})},onComment:function(){var t=this;\"noLogin\"===this.params.userId?this.showToast({content:\"您还没有登录，去登录~\",callback:function(){t.$router.push({name:\"login\",query:{backComponentName:\"indexdetail\",id:t.params.videoId}})}}):this.$router.push({path:\"/comment\",query:{id:this.params.videoId}})},showToast:function(t){this.$refs.toast.showTips(),this.toastOptions=t}}},k=f,h=(e(\"c04f\"),e(\"2877\")),p=Object(h[\"a\"])(k,s,a,!1,null,\"363fb2d3\",null);i[\"default\"]=p.exports}}]);","extractedComments":[]}